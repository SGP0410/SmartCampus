Index: app/src/main/java/com/example/smartcampus/fragment/statisticsFragment/ProvinceStudentSourceFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.smartcampus.fragment.statisticsFragment;\r\n\r\nimport android.content.res.ColorStateList;\r\nimport android.graphics.Color;\r\nimport android.graphics.RectF;\r\nimport android.graphics.drawable.Drawable;\r\nimport android.util.Log;\r\nimport android.view.Gravity;\r\nimport android.view.View;\r\nimport android.widget.ImageView;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.PopupWindow;\r\nimport android.widget.TextView;\r\nimport android.widget.ViewFlipper;\r\nimport androidx.core.graphics.drawable.DrawableCompat;\r\nimport butterknife.BindView;\r\nimport butterknife.ButterKnife;\r\nimport com.example.smartcampus.R;\r\nimport com.example.smartcampus.bean.statistics.Province;\r\nimport com.example.smartcampus.bean.statistics.ProvinceStudentSource;\r\nimport com.example.smartcampus.utils.MapView;\r\nimport com.example.smartcampus.utils.destureviewbinder.GestureViewBinder;\r\nimport com.example.smartcampuslibrary.fragment.BaseFragment;\r\nimport com.example.smartcampuslibrary.net.OkHttpLo;\r\nimport com.example.smartcampuslibrary.net.OkHttpTo;\r\nimport com.github.mikephil.charting.charts.BarChart;\r\nimport com.github.mikephil.charting.components.XAxis;\r\nimport com.github.mikephil.charting.components.XAxis.XAxisPosition;\r\nimport com.github.mikephil.charting.components.YAxis;\r\nimport com.github.mikephil.charting.data.BarData;\r\nimport com.github.mikephil.charting.data.BarDataSet;\r\nimport com.github.mikephil.charting.data.BarEntry;\r\nimport com.github.mikephil.charting.formatter.IndexAxisValueFormatter;\r\nimport com.google.gson.Gson;\r\nimport com.google.gson.reflect.TypeToken;\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport org.json.JSONObject;\r\n\r\npublic class ProvinceStudentSourceFragment extends BaseFragment {\r\n\r\n    @BindView(R.id.back)\r\n    ImageView back;\r\n    @BindView(R.id.title)\r\n    TextView title;\r\n    @BindView(R.id.map_view)\r\n    MapView mapView;\r\n    @BindView(R.id.group_view)\r\n    LinearLayout groupView;\r\n    @BindView(R.id.view_flipper)\r\n    ViewFlipper viewFlipper;\r\n    @BindView(R.id.layout1)\r\n    LinearLayout layout1;\r\n    @BindView(R.id.you_xiu)\r\n    LinearLayout youXiu;\r\n    @BindView(R.id.pin_kun)\r\n    LinearLayout pinKun;\r\n    @BindView(R.id.you_xiu_image)\r\n    ImageView youXiuImage;\r\n    @BindView(R.id.you_xiu_text)\r\n    TextView youXiuText;\r\n    @BindView(R.id.pin_kun_image)\r\n    ImageView pinKunImage;\r\n    @BindView(R.id.pin_kun_text)\r\n    TextView pinKunText;\r\n\r\n\r\n    private List<Province> provinceList;\r\n    private List<ProvinceStudentSource> provinceStudentSourceList1;\r\n    private List<ProvinceStudentSource> provinceStudentSourceList2;\r\n    private List<String> names;\r\n    private BarChart barChart1;\r\n    private BarChart barChart2;\r\n    private List<Integer> colorList1;\r\n    private List<Integer> colorList2;\r\n\r\n\r\n    @Override\r\n    protected int layoutResId() {\r\n        return R.layout.student_source_fragment;\r\n    }\r\n\r\n    @Override\r\n    protected void initView(View view) {\r\n        ButterKnife.bind(this, view);\r\n        title.setText(\"省生源\");\r\n        youXiu.setOnClickListener(this::onClick);\r\n        pinKun.setOnClickListener(this::onClick);\r\n        setColor(youXiuImage, youXiuText, Color.parseColor(\"#4B5CC5\"));\r\n        setColor(pinKunImage, pinKunText, Color.parseColor(\"#333333\"));\r\n    }\r\n\r\n    @Override\r\n    protected void initData() {\r\n        GestureViewBinder binder = GestureViewBinder.bind(getContext(), groupView, mapView);\r\n        binder.setFullGroup(true);\r\n        mapView.setOnMapViewClickListener(name -> {\r\n            Log.i(\"aaaaa\", \"--------\" + name);\r\n//            ((FragmentActivity) getActivity())\r\n//                .setFragment(new MunicipalStudentSourceFragment(name));\r\n            RectF rectF = mapView.getRectF(name);\r\n            initPopWindow((int) rectF.centerX(), (int) rectF.bottom);\r\n//            initPopWindow(0 , 0);\r\n        });\r\n\r\n        province_query_all();\r\n\r\n    }\r\n\r\n    private void initPopWindow(int x, int y) {\r\n        PopupWindow popupWindow = new PopupWindow(getContext());\r\n        popupWindow.setFocusable(false);\r\n        popupWindow.setOutsideTouchable(true);\r\n        popupWindow.setWidth(500);\r\n        popupWindow.setHeight(200);\r\n        //设置布局\r\n//        popupWindow.setContentView(textView);\r\n//        setTouchListener(popupWindow);\r\n        \r\n        popupWindow.showAsDropDown(groupView,\r\n            (int) (x * mapView.getMScale()) - (popupWindow.getWidth() / 2),\r\n            (int) (y * mapView.getMScale()) - groupView.getHeight(),\r\n            Gravity.CENTER);\r\n    }\r\n\r\n    private void province_query_all() {\r\n        new OkHttpTo().setUrl(\"province_query_all\")\r\n            .setRequestType(\"get\")\r\n            .setOkHttpLo(new OkHttpLo() {\r\n                @Override\r\n                public void onResponse(JSONObject jsonObject) {\r\n                    provinceList = new Gson().fromJson(jsonObject.optJSONArray(\r\n                        \"data\").toString(), new TypeToken<List<Province>>() {\r\n                    }.getType());\r\n                    if (provinceList != null) {\r\n                        getProvinceStudentSource();\r\n                    }\r\n                }\r\n                \r\n                @Override\r\n                public void onFailure(IOException e) {\r\n\r\n                }\r\n            }).start();\r\n    }\r\n\r\n    private void getProvinceStudentSource() {\r\n        provinceStudentSourceList1 = new ArrayList<>();\r\n        OkHttpTo okHttpTo;\r\n        for (Province province : provinceList) {\r\n            okHttpTo = new OkHttpTo();\r\n            if (province == provinceList.get(provinceList.size() - 1)) {\r\n                okHttpTo.setDialog(getContext());\r\n            }\r\n            okHttpTo\r\n                .setUrl(\"GetProvinceStudentSource?provinceName=\" + province.getProvinceName())\r\n                .setRequestType(\"get\")\r\n                .setOkHttpLo(new OkHttpLo() {\r\n                    @Override\r\n                    public void onResponse(JSONObject jsonObject) {\r\n                        provinceStudentSourceList1.add(new Gson().fromJson(jsonObject.toString(),\r\n                            ProvinceStudentSource.class));\r\n\r\n                        if (provinceStudentSourceList1.size() == provinceList.size()) {\r\n                            showData();\r\n                        }\r\n                    }\r\n\r\n                    @Override\r\n                    public void onFailure(IOException e) {\r\n\r\n                    }\r\n                }).start();\r\n        }\r\n    }\r\n\r\n    private void showData() {\r\n        provinceStudentSourceList2 = new ArrayList<>();\r\n        provinceStudentSourceList2.addAll(provinceStudentSourceList1);\r\n\r\n        Collections.sort(provinceStudentSourceList1, ((o1, o2) -> {\r\n            return o2.getEliteStudent() - o1.getEliteStudent();\r\n        }));\r\n\r\n        Collections.sort(provinceStudentSourceList2, ((o1, o2) -> {\r\n            return o2.getPoorStudent() - o1.getPoorStudent();\r\n        }));\r\n\r\n        setView();\r\n    }\r\n\r\n    private void setView() {\r\n\r\n        for (int i = 0; i < 2; i++) {\r\n            BarChart barChart = new BarChart(getContext());\r\n            setBarChart(barChart, i);\r\n            viewFlipper.addView(barChart);\r\n        }\r\n\r\n        showMap(colorList1, provinceStudentSourceList1);\r\n        \r\n    }\r\n\r\n    private void showMap(List<Integer> colorList,\r\n        List<ProvinceStudentSource> provinceStudentSourceList) {\r\n        Map<String, Integer> colorMap = new HashMap<>();\r\n        for (int i = 0; i < colorList.size(); i++) {\r\n            colorMap.put(provinceStudentSourceList.get(i).getProvinceName(), colorList.get(i));\r\n        }\r\n        mapView.setColors(colorMap);\r\n        mapView.setMapResId(R.raw.china);\r\n    }\r\n\r\n\r\n    private void setBarChart(BarChart barChart, int i) {\r\n        barChart.getLegend().setEnabled(false);\r\n        barChart.setDescription(null);\r\n        setBarChartData(barChart, i);\r\n    }\r\n\r\n    private void setBarChartData(BarChart barChart, int i) {\r\n        List<BarEntry> barEntryList = new ArrayList<>();\r\n        BarDataSet barDataSet = null;\r\n        BarData barData = null;\r\n\r\n        names = new ArrayList<>();\r\n        names.add(\"\");\r\n\r\n        String[] colors1 = {\"#f4a235\", \"#f8b751\", \"#ebba46\", \"#efc800\", \"#f1cc3e\", \"#f5e84c\", \"#f5e84c\"};\r\n        String[] colors2 = {\"#e21c13\", \"#a71e32\", \"#46b797\", \"#63be9d\", \"#a0d4bd\", \"#bee0d0\", \"#bee0d0\"};\r\n        //优秀\r\n        if (i == 0) {\r\n            barChart1 = barChart;\r\n            for (int i1 = 0; i1 < provinceStudentSourceList1.size(); i1++) {\r\n                barEntryList\r\n                    .add(new BarEntry(i1 + 1,\r\n                        provinceStudentSourceList1.get(i1).getEliteStudent()));\r\n                names.add(provinceStudentSourceList1.get(i1).getProvinceName());\r\n            }\r\n            barDataSet = new BarDataSet(barEntryList, \"优秀学子\");\r\n            colorList1 = new ArrayList<>();\r\n            for (int j = 0; j < provinceStudentSourceList1.size(); j++) {\r\n                colorList1.add(Color.parseColor(colors1[j / colors1.length]));\r\n            }\r\n            barDataSet.setColors(colorList1);\r\n        }\r\n        //贫困\r\n        if (i == 1) {\r\n            barChart2 = barChart;\r\n            for (int i1 = 0; i1 < provinceStudentSourceList2.size(); i1++) {\r\n                barEntryList\r\n                    .add(new BarEntry(i1 + 1,\r\n                        provinceStudentSourceList2.get(i1).getPoorStudent()));\r\n                names.add(provinceStudentSourceList2.get(i1).getProvinceName());\r\n            }\r\n            barDataSet = new BarDataSet(barEntryList, \"贫困学子\");\r\n\r\n            colorList2 = new ArrayList<>();\r\n            for (int j = 0; j < provinceStudentSourceList2.size(); j++) {\r\n                colorList2.add(Color.parseColor(colors2[j / colors2.length]));\r\n            }\r\n\r\n            barDataSet.setColors(colorList2);\r\n        }\r\n\r\n        setAxis(barChart);\r\n\r\n        barData = new BarData(barDataSet);\r\n        barData.setBarWidth(0.5f);\r\n\r\n        barChart.setData(barData);\r\n        barChart.animateXY(0, 2000);\r\n    }\r\n\r\n    private void setAxis(BarChart barChart) {\r\n\r\n        XAxis xAxis = barChart.getXAxis();\r\n        xAxis.setPosition(XAxisPosition.BOTTOM);\r\n        xAxis.setLabelCount(provinceStudentSourceList1.size());\r\n        xAxis.setDrawGridLines(false);\r\n        xAxis.setValueFormatter(new IndexAxisValueFormatter(names));\r\n        xAxis.setLabelRotationAngle(90);\r\n\r\n        YAxis yAxis = barChart.getAxisLeft();\r\n        yAxis.setAxisMinimum(0f);\r\n        yAxis.setLabelCount(10);\r\n\r\n        YAxis yAxis1 = barChart.getAxisRight();\r\n        yAxis1.setEnabled(false);\r\n        yAxis1.setAxisMinimum(0f);\r\n        yAxis1.setLabelCount(10);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View v) {\r\n        switch (v.getId()) {\r\n            case R.id.you_xiu:\r\n                viewFlipper.setDisplayedChild(0);\r\n                barChart1.animateXY(0, 2000);\r\n                showMap(colorList1, provinceStudentSourceList1);\r\n                setColor(youXiuImage, youXiuText, Color.parseColor(\"#4B5CC5\"));\r\n                setColor(pinKunImage, pinKunText, Color.parseColor(\"#333333\"));\r\n                break;\r\n            case R.id.pin_kun:\r\n                viewFlipper.setDisplayedChild(1);\r\n                barChart2.animateXY(0, 2000);\r\n                showMap(colorList2, provinceStudentSourceList2);\r\n                setColor(youXiuImage, youXiuText, Color.parseColor(\"#333333\"));\r\n                setColor(pinKunImage, pinKunText, Color.parseColor(\"#4B5CC5\"));\r\n                break;\r\n        }\r\n    }\r\n\r\n    private void setColor(ImageView imageView, TextView textView, int color) {\r\n        Drawable wrap = DrawableCompat.wrap(imageView.getDrawable());\r\n        DrawableCompat.setTintList(wrap, ColorStateList.valueOf(color));\r\n        imageView.setImageDrawable(wrap);\r\n        textView.setTextColor(color);\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/smartcampus/fragment/statisticsFragment/ProvinceStudentSourceFragment.java	(revision 4c47a9317ed8c67e8e961e13dcb9fb6ddb2d395b)
+++ app/src/main/java/com/example/smartcampus/fragment/statisticsFragment/ProvinceStudentSourceFragment.java	(date 1624350594576)
@@ -205,8 +205,7 @@
         
     }
 
-    private void showMap(List<Integer> colorList,
-        List<ProvinceStudentSource> provinceStudentSourceList) {
+    private void showMap(List<Integer> colorList, List<ProvinceStudentSource> provinceStudentSourceList) {
         Map<String, Integer> colorMap = new HashMap<>();
         for (int i = 0; i < colorList.size(); i++) {
             colorMap.put(provinceStudentSourceList.get(i).getProvinceName(), colorList.get(i));
Index: app/src/main/java/com/example/smartcampus/fragment/statisticsFragment/Fragment_Admissions.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/smartcampus/fragment/statisticsFragment/Fragment_Admissions.java	(date 1624352609367)
+++ app/src/main/java/com/example/smartcampus/fragment/statisticsFragment/Fragment_Admissions.java	(date 1624352609367)
@@ -0,0 +1,172 @@
+package com.example.smartcampus.fragment.statisticsFragment;
+
+import android.graphics.Color;
+import android.graphics.RectF;
+import android.util.Log;
+import android.view.Gravity;
+import android.view.View;
+import android.widget.ImageView;
+import android.widget.LinearLayout;
+import android.widget.PopupWindow;
+import android.widget.TextView;
+import com.example.smartcampus.R;
+import com.example.smartcampus.bean.statistics.GetMunicipalMenAndWomenNumberAll;
+import com.example.smartcampus.bean.statistics.Province;
+import com.example.smartcampus.bean.statistics.Provinces;
+import com.example.smartcampus.utils.MapView;
+import com.example.smartcampus.utils.destureviewbinder.GestureViewBinder;
+import com.example.smartcampuslibrary.fragment.BaseFragment;
+import com.example.smartcampuslibrary.net.OkHttpLo;
+import com.example.smartcampuslibrary.net.OkHttpTo;
+import com.google.gson.Gson;
+import com.google.gson.reflect.TypeToken;
+import java.io.IOException;
+import java.util.ArrayList;
+import java.util.HashMap;
+import java.util.List;
+import java.util.Map;
+import org.json.JSONObject;
+
+public class Fragment_Admissions extends BaseFragment {
+    
+    private ImageView back;
+    private TextView title;
+    private MapView mapView;
+    private LinearLayout groupView;
+    
+    @Override
+    protected int layoutResId() {
+        return R.layout.fragment_admissions;
+    }
+    
+    @Override
+    protected void initView(View view) {
+        back = view.findViewById(R.id.back);
+        title = view.findViewById(R.id.title);
+        mapView = view.findViewById(R.id.map_view);
+        groupView = view.findViewById(R.id.group_view);
+    }
+    
+    @Override
+    protected void initData() {
+        title.setText("招生信息");
+        
+        GestureViewBinder binder = GestureViewBinder.bind(getContext(), groupView, mapView);
+        binder.setFullGroup(true);
+        mapView.setOnMapViewClickListener(name -> {
+            Log.i("aaaaa", "--------" + name);
+            RectF rectF = mapView.getRectF(name);
+            initPopWindow((int) rectF.centerX(), (int) rectF.bottom);
+        });
+        
+        getData();
+        
+    }
+    
+    private List<Provinces> provinceList;
+    
+    private void getData() {
+        if (provinceList == null) {
+            provinceList = new ArrayList<>();
+        } else {
+            provinceList.clear();
+        }
+        new OkHttpTo()
+            .setUrl("province_query_all")
+            .setRequestType("GET")
+            .setOkHttpLo(new OkHttpLo() {
+                @Override
+                public void onResponse(JSONObject jsonObject) {
+                    provinceList.addAll(new Gson().fromJson(jsonObject.optJSONArray("data").toString(),
+                        new TypeToken<List<Provinces>>() {
+                        }.getType()));
+                    if (provinceList != null) {
+                        Province_GetMunicipalMenAndWomenNumberAll();
+                    }
+                }
+                
+                @Override
+                public void onFailure(IOException e) {
+                
+                }
+            }).start();
+        
+        
+    }
+    
+    private int count = 0;
+    private static final String TAG = "Fragment_Admissions";
+    
+    private void Province_GetMunicipalMenAndWomenNumberAll() {
+        count = 0;
+        for (Provinces provinces : provinceList) {
+            new OkHttpTo()
+                .setUrl("GetMunicipalMenAndWomenNumberAll?provinceName=" + provinces.getProvinceName())
+                .setRequestType("GET")
+                .setOkHttpLo(new OkHttpLo() {
+                    @Override
+                    public void onResponse(JSONObject jsonObject) {
+                        
+                        List<GetMunicipalMenAndWomenNumberAll> getMunicipalMenAndWomenNumberAlls =
+                            new Gson().fromJson(jsonObject.optJSONArray("rows").toString(),
+                                new TypeToken<List<GetMunicipalMenAndWomenNumberAll>>(){}.getType());
+                        provinces.setGetMunicipalMenAndWomenNumberAll(getMunicipalMenAndWomenNumberAlls);
+                        
+                        count++;
+                        Log.i(TAG, "onResponse: " + count);
+                        if (count == provinceList.size()) {
+                            showData();
+                        }
+                    }
+                    
+                    @Override
+                    public void onFailure(IOException e) {
+                    
+                    }
+                }).start();
+        }
+        
+    }
+    
+    private List<Integer> colorList1 = new ArrayList<>();
+    private String[] colors1 = {"#f4a235", "#f8b751", "#ebba46", "#efc800", "#f1cc3e", "#f5e84c", "#f5e84c"};
+    
+    
+    private void showData() {
+        for (Provinces provinces : provinceList) {
+            colorList1.add(Color.parseColor("#DDDDDD"));
+        }
+        
+        Map<String, Integer> colorMap = new HashMap<>();
+        for (int i = 0; i < colorList1.size(); i++) {
+            colorMap.put(provinceList.get(i).getProvinceName(), colorList1.get(i));
+        }
+        mapView.setColors(colorMap);
+        mapView.setMapResId(R.raw.china);
+        
+        
+    }
+    
+    private void initPopWindow(int x, int y) {
+        PopupWindow popupWindow = new PopupWindow(getContext());
+        popupWindow.setFocusable(false);
+        popupWindow.setOutsideTouchable(true);
+        popupWindow.setWidth(500);
+        popupWindow.setHeight(200);
+        //设置布局
+//        popupWindow.setContentView(textView);
+//        setTouchListener(popupWindow);
+        
+        popupWindow.showAsDropDown(groupView,
+            (int) (x * mapView.getMScale()) - (popupWindow.getWidth() / 2),
+            (int) (y * mapView.getMScale()) - groupView.getHeight(),
+            Gravity.CENTER);
+    }
+    
+    
+    @Override
+    public void onClick(View v) {
+    
+    }
+    
+}
Index: app/src/main/res/layout/fragment_admissions.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/fragment_admissions.xml	(date 1624353445582)
+++ app/src/main/res/layout/fragment_admissions.xml	(date 1624353445582)
@@ -0,0 +1,42 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+  android:layout_width="match_parent"
+  android:layout_height="match_parent"
+  android:background="@color/color_background"
+  android:orientation="vertical"
+  >
+
+  <include layout="@layout/title_back_g"/>
+
+
+  <LinearLayout
+    android:id="@+id/group_view"
+    android:layout_width="match_parent"
+    android:layout_height="0dp"
+    android:layout_weight="0.8"
+    >
+
+    <com.example.smartcampus.utils.MapView
+      android:id="@+id/map_view"
+      android:layout_width="match_parent"
+      android:layout_height="match_parent"/>
+
+  </LinearLayout>
+
+  <LinearLayout
+    android:layout_width="match_parent"
+    android:layout_height="0dp"
+    android:layout_weight="1"
+    >
+
+
+
+
+  </LinearLayout>
+
+
+
+
+
+
+</LinearLayout>
\ No newline at end of file
Index: app/src/main/java/com/example/smartcampus/bean/statistics/Provinces.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/smartcampus/bean/statistics/Provinces.java	(date 1624351523284)
+++ app/src/main/java/com/example/smartcampus/bean/statistics/Provinces.java	(date 1624351523284)
@@ -0,0 +1,45 @@
+package com.example.smartcampus.bean.statistics;
+
+import java.util.List;
+
+public class Provinces {
+    
+    private String id;
+    private String provinceName;
+    private String provinceId;
+    private List<GetMunicipalMenAndWomenNumberAll> getMunicipalMenAndWomenNumberAll;
+    
+    public List<GetMunicipalMenAndWomenNumberAll> getGetMunicipalMenAndWomenNumberAll() {
+        return getMunicipalMenAndWomenNumberAll;
+    }
+    
+    public void setGetMunicipalMenAndWomenNumberAll(
+        List<GetMunicipalMenAndWomenNumberAll> getMunicipalMenAndWomenNumberAll) {
+        this.getMunicipalMenAndWomenNumberAll = getMunicipalMenAndWomenNumberAll;
+    }
+    
+    public String getId() {
+        return id;
+    }
+    
+    public void setId(String id) {
+        this.id = id;
+    }
+    
+    public String getProvinceName() {
+        return provinceName;
+    }
+    
+    public void setProvinceName(String provinceName) {
+        this.provinceName = provinceName;
+    }
+    
+    public String getProvinceId() {
+        return provinceId;
+    }
+    
+    public void setProvinceId(String provinceId) {
+        this.provinceId = provinceId;
+    }
+    
+}
Index: .idea/encodings.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/encodings.xml	(date 1624348494967)
+++ .idea/encodings.xml	(date 1624348494967)
@@ -0,0 +1,6 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<project version="4">
+  <component name="Encoding">
+    <file url="PROJECT" charset="UTF-8" />
+  </component>
+</project>
\ No newline at end of file
Index: app/src/main/java/com/example/smartcampus/fragment/statisticsFragment/Fragment_count_school.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.smartcampus.fragment.statisticsFragment;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.graphics.Color;\r\nimport android.view.View;\r\nimport android.widget.ImageView;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.TextView;\r\nimport com.example.smartcampus.R;\r\nimport com.example.smartcampus.bean.statistics.GetCollegeMenAndWomenNumberAll;\r\nimport com.example.smartcampuslibrary.fragment.BaseFragment;\r\nimport com.github.mikephil.charting.charts.BarChart;\r\nimport com.github.mikephil.charting.charts.LineChart;\r\nimport com.github.mikephil.charting.charts.PieChart;\r\nimport com.github.mikephil.charting.components.AxisBase;\r\nimport com.github.mikephil.charting.components.Legend;\r\nimport com.github.mikephil.charting.components.Legend.LegendHorizontalAlignment;\r\nimport com.github.mikephil.charting.components.Legend.LegendOrientation;\r\nimport com.github.mikephil.charting.components.Legend.LegendVerticalAlignment;\r\nimport com.github.mikephil.charting.components.XAxis;\r\nimport com.github.mikephil.charting.components.XAxis.XAxisPosition;\r\nimport com.github.mikephil.charting.components.YAxis;\r\nimport com.github.mikephil.charting.data.BarData;\r\nimport com.github.mikephil.charting.data.BarDataSet;\r\nimport com.github.mikephil.charting.data.BarEntry;\r\nimport com.github.mikephil.charting.data.Entry;\r\nimport com.github.mikephil.charting.data.LineData;\r\nimport com.github.mikephil.charting.data.LineDataSet;\r\nimport com.github.mikephil.charting.data.PieData;\r\nimport com.github.mikephil.charting.data.PieDataSet;\r\nimport com.github.mikephil.charting.data.PieEntry;\r\nimport com.github.mikephil.charting.formatter.IAxisValueFormatter;\r\nimport com.github.mikephil.charting.formatter.IndexAxisValueFormatter;\r\nimport com.github.mikephil.charting.formatter.PercentFormatter;\r\nimport com.github.mikephil.charting.interfaces.datasets.IBarDataSet;\r\nimport com.github.mikephil.charting.utils.ColorTemplate;\r\nimport java.text.DecimalFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Fragment_count_school extends BaseFragment {\r\n    \r\n    private ImageView back;\r\n    private TextView title;\r\n    private TextView itemWoman;\r\n    private TextView itemMan;\r\n    private TextView txtProvince;\r\n    private BarChart barChart;\r\n    private LineChart lineChart;\r\n    private BarChart barChartPileUp;\r\n    private PieChart chart;\r\n    private PieChart pieChart;\r\n    private GetCollegeMenAndWomenNumberAll getCollegeMenAndWomenNumberAll;\r\n    private int woman1;\r\n    private int man1;\r\n    \r\n    public Fragment_count_school(GetCollegeMenAndWomenNumberAll getCollegeMenAndWomenNumberAll) {\r\n        this.getCollegeMenAndWomenNumberAll = getCollegeMenAndWomenNumberAll;\r\n    }\r\n    \r\n    @Override\r\n    protected int layoutResId() {\r\n        return R.layout.fragment_count_school;\r\n    }\r\n    \r\n    @Override\r\n    protected void initView(View view) {\r\n        back = view.findViewById(R.id.back);\r\n        title = view.findViewById(R.id.title);\r\n        itemWoman = view.findViewById(R.id.item_woman);\r\n        itemMan = view.findViewById(R.id.item_man);\r\n        txtProvince = view.findViewById(R.id.txt_province);\r\n        barChart = view.findViewById(R.id.barChart);\r\n        lineChart = view.findViewById(R.id.lineChart);\r\n        barChartPileUp = view.findViewById(R.id.barChart_pileUp);\r\n        chart = view.findViewById(R.id.chart1);\r\n        pieChart = view.findViewById(R.id.pieChart);\r\n    }\r\n    \r\n    @SuppressLint(\"SetTextI18n\")\r\n    @Override\r\n    protected void initData() {\r\n        title.setText(\"性别统计\");\r\n        txtProvince.setText(getCollegeMenAndWomenNumberAll.getCollegeName());\r\n        double sum = getCollegeMenAndWomenNumberAll.getMan() + getCollegeMenAndWomenNumberAll.getWoman();\r\n        double nv = getCollegeMenAndWomenNumberAll.getWoman();\r\n        double woman = nv / sum;\r\n        woman1 = (int) (woman * 100);\r\n        man1 = 100 - woman1;\r\n        itemWoman.setText(woman1 + \"%\");\r\n        itemMan.setText(man1 + \"%\");\r\n        \r\n        getBarChart();  //柱状图\r\n    \r\n        getLineChart();\r\n    \r\n        getBarChart_PileUp();\r\n    \r\n        getPieChart();//平面图\r\n        \r\n    }\r\n    \r\n    private void getPieChart() {\r\n        \r\n        ArrayList<PieEntry> entries = new ArrayList<>();\r\n        \r\n        entries.add(new PieEntry((float) (man1), \"男\"));\r\n        entries.add(new PieEntry((float) (woman1), \"女\"));\r\n        \r\n        PieDataSet dataSet = new PieDataSet(entries, \"Election Results\");\r\n        dataSet.setSliceSpace(3f);\r\n        dataSet.setSelectionShift(5f);\r\n        ArrayList<Integer> colors = new ArrayList<>();\r\n        colors.add(Color.parseColor(\"#22D5CE\"));\r\n        colors.add(Color.parseColor(\"#F39444\"));\r\n        colors.add(ColorTemplate.getHoloBlue());\r\n        dataSet.setColors(colors);\r\n        dataSet.setValueLinePart1OffsetPercentage(80.f);\r\n        dataSet.setValueLinePart1Length(0.2f);\r\n        dataSet.setValueLinePart2Length(0.4f);\r\n        //dataSet.setXValuePosition(PieDataSet.ValuePosition.OUTSIDE_SLICE);\r\n        dataSet.setYValuePosition(PieDataSet.ValuePosition.OUTSIDE_SLICE);\r\n        \r\n        PieData data = new PieData(dataSet);\r\n        data.setValueFormatter(new PercentFormatter());\r\n        data.setValueTextSize(11f);\r\n        data.setValueTextColor(Color.BLACK);\r\n        data.setValueTextSize(13);\r\n        chart.setData(data);\r\n        \r\n        // undo all highlights\r\n        chart.highlightValues(null);\r\n        \r\n        chart.invalidate();\r\n        chart.setUsePercentValues(true);\r\n        chart.getDescription().setEnabled(false);\r\n        chart.setExtraOffsets(5, 10, 5, 5);\r\n        chart.setDragDecelerationFrictionCoef(0.95f);\r\n        \r\n        chart.setExtraOffsets(20.f, 0.f, 20.f, 0.f);\r\n        \r\n        chart.setDrawHoleEnabled(true);\r\n        chart.setHoleColor(Color.parseColor(\"#EEEEEE\"));\r\n        chart.setCenterTextSize(20);\r\n        \r\n        chart.setTransparentCircleColor(Color.parseColor(\"#EEEEEE\"));\r\n        chart.setTransparentCircleAlpha(110);\r\n        \r\n        chart.setHoleRadius(58f);\r\n        chart.setTransparentCircleRadius(61f);\r\n        \r\n        chart.setDrawCenterText(true);\r\n        \r\n        chart.setRotationAngle(0);\r\n        // enable rotation of the chart by touch\r\n        chart.setRotationEnabled(true);\r\n        chart.setHighlightPerTapEnabled(true);\r\n        \r\n        Legend  l = chart.getLegend();\r\n        l.setVerticalAlignment(LegendVerticalAlignment.BOTTOM);\r\n        l.setHorizontalAlignment(Legend.LegendHorizontalAlignment.RIGHT);\r\n        l.setOrientation(Legend.LegendOrientation.VERTICAL);\r\n        l.setDrawInside(false);\r\n        l.setEnabled(false);\r\n        chart.animateXY(0, 2000);\r\n        chart.invalidate();\r\n    }\r\n    \r\n    private void getBarChart_PileUp() {\r\n        \r\n        barChartPileUp.getDescription().setEnabled(false);        //不展示图表描述信息\r\n        //所有值均绘制在其条形顶部上方\r\n        barChartPileUp.setDrawValueAboveBar(false);\r\n        //纵坐标不显示网格线\r\n        barChartPileUp.getXAxis().setDrawGridLines(false);\r\n        //不支持图表缩放\r\n        barChartPileUp.setScaleEnabled(false);\r\n        //设置点击图表时的标记，可以自定义布局\r\n//        barChartPileUp.setMarker(new MyMarkView(context);\r\n        \r\n        // 改变y标签的位置\r\n        YAxis leftAxis = barChartPileUp.getAxisLeft();\r\n        leftAxis.setAxisMinimum(0f);\r\n        //右y轴不显示\r\n        barChartPileUp.getAxisRight().setEnabled(false);\r\n        leftAxis.setDrawAxisLine(false);\r\n        leftAxis.setMaxWidth(100);\r\n        //获取x坐标轴\r\n        XAxis xLabels = barChartPileUp.getXAxis();\r\n        //设置x坐标轴显示位置在下方\r\n        xLabels.setPosition(XAxisPosition.BOTTOM);\r\n        //转换x坐标轴显示内容\r\n        xLabels.setValueFormatter(new IAxisValueFormatter() {\r\n            @Override\r\n            public String getFormattedValue(float value, AxisBase axis) {\r\n                return \"\";\r\n            }\r\n        });\r\n        \r\n        //获取图表的图例\r\n        Legend l = barChartPileUp.getLegend();\r\n        //图例设置在下方\r\n        l.setVerticalAlignment(LegendVerticalAlignment.BOTTOM);\r\n        //图例设置在中间\r\n        l.setHorizontalAlignment(LegendHorizontalAlignment.CENTER);\r\n        l.setOrientation(LegendOrientation.HORIZONTAL);\r\n        l.setTextSize(18);\r\n        l.setFormSize(18);\r\n        l.setDrawInside(false);\r\n        \r\n        ArrayList<BarEntry> yValues = new ArrayList<>();\r\n        \r\n        yValues.add(new BarEntry(0, new float[]{(float) (woman1), (float) (man1)}));\r\n        \r\n        BarDataSet set1;\r\n        \r\n        if (barChartPileUp.getData() != null && barChartPileUp.getData().getDataSetCount() > 0) {\r\n            set1 = (BarDataSet) barChartPileUp.getData().getDataSetByIndex(0);\r\n            set1.setValues(yValues);\r\n            barChartPileUp.getData().notifyDataChanged();\r\n            barChartPileUp.notifyDataSetChanged();\r\n        } else {\r\n            set1 = new BarDataSet(yValues, \"\");\r\n            set1.setValueTextSize(20);\r\n            set1.setValueFormatter((value, entry, dataSetIndex, viewPortHandler) -> {\r\n                DecimalFormat format = new DecimalFormat(\"0\");\r\n                return format.format(value) + \"%\";\r\n            });\r\n            //设置图例的颜色和名称\r\n            set1.setColors(new int[]{R.color.drawing_nv, R.color.drawing_man}, getContext());\r\n            set1.setStackLabels(new String[]{\"女\", \"男\"});\r\n            \r\n            ArrayList<IBarDataSet> dataSets = new ArrayList<>();\r\n            dataSets.add(set1);\r\n            \r\n            BarData data = new BarData(dataSets);\r\n            data.setValueTextColor(Color.WHITE);\r\n            \r\n            barChartPileUp.setData(data);\r\n        }\r\n        barChartPileUp.animateXY(0, 2000);\r\n        barChartPileUp.setFitBars(true);\r\n        barChartPileUp.setTouchEnabled(false);                   //禁用触摸\r\n        barChartPileUp.invalidate();\r\n        \r\n        \r\n    }\r\n    \r\n    \r\n    private List<Entry> entries;\r\n    private List<String> stringLine;\r\n    \r\n    private void getLineChart() {\r\n        if (entries == null) {\r\n            entries = new ArrayList<>();\r\n            stringLine = new ArrayList<>();\r\n        } else {\r\n            entries.clear();\r\n            stringLine.clear();\r\n        }\r\n        \r\n        entries.add(new Entry(0, man1));\r\n        entries.add(new Entry(1, woman1));\r\n        stringLine.add(\"男\");\r\n        stringLine.add(\"女\");\r\n        \r\n        LineDataSet dataSet = new LineDataSet(entries, \"\");  //单数据存入\r\n        dataSet.setCircleColor(Color.parseColor(\"#F39445\"));                 //设置外圈颜色\r\n        dataSet.setCircleHoleRadius(3f);                    //内圈半径\r\n        dataSet.setColor(Color.parseColor(\"#20D5CE\"));                       //绘制线条颜色\r\n        dataSet.setValueTextSize(20);                       //显示数字大小\r\n        dataSet.setLineWidth(4f);                           //线条宽度\r\n        dataSet.setDrawValues(false);                       //关闭图中显示数字\r\n        dataSet.setDrawCircleHole(false);                   //关闭标识线，垂直显示的\r\n        dataSet.setValueFormatter((value, entry, dataSetIndex, viewPortHandler) -> {\r\n            DecimalFormat format = new DecimalFormat(\"0\");\r\n            return format.format(value) + \"%\";\r\n        });\r\n        LineData lineData = new LineData(dataSet);\r\n        lineData.setValueTextSize(20);\r\n        YAxis yAxis = lineChart.getAxisLeft();\r\n        yAxis.setDrawAxisLine(false);                    //关闭Y轴网格线\r\n        yAxis.setAxisMinimum(0);                        //最小值\r\n        yAxis.setAxisMaximum(100);                        //最大值\r\n        \r\n        XAxis xAxis = lineChart.getXAxis();\r\n        xAxis.setPosition(XAxisPosition.BOTTOM);    //X轴在底部显示\r\n        xAxis.setValueFormatter(new IndexAxisValueFormatter(stringSex));    //将每秒显示的数据放到X轴\r\n        xAxis.setLabelCount(stringSex.size());            //标签个数\r\n        xAxis.setGranularity(1f);\r\n        xAxis.setTextSize(20);\r\n        //两个数之间的间距\r\n        xAxis.setDrawGridLines(false);                    //关闭网格线\r\n        \r\n        lineChart.setData(lineData);\r\n        lineChart.getLegend().setEnabled(false);\r\n        lineChart.animateXY(1500, 1000);                    //动画效果\r\n        lineChart.getDescription().setEnabled(false);       //说明关闭\r\n        lineChart.getDescription().setText(\"(S)\");          //右下角说明打开\r\n        lineChart.setScaleEnabled(false);                   //禁用缩放比例\r\n        lineChart.setTouchEnabled(false);                   //禁用触摸\r\n        lineChart.invalidate();                             //刷新\r\n        \r\n        \r\n    }\r\n    \r\n    private List<BarEntry> barEntries;\r\n    private List<String> stringSex;\r\n    \r\n    private void getBarChart() {\r\n        if (barEntries == null) {\r\n            barEntries = new ArrayList<>();\r\n            stringSex = new ArrayList<>();\r\n        } else {\r\n            barEntries.clear();\r\n            stringSex.clear();\r\n        }\r\n        \r\n        barEntries.add(new BarEntry(0, man1));\r\n        barEntries.add(new BarEntry(1, woman1));\r\n        \r\n        stringSex.add(\"男\");\r\n        stringSex.add(\"女\");\r\n        \r\n        BarDataSet barDataSet = new BarDataSet(barEntries, \"\");\r\n        \r\n        barDataSet.setColor(Color.parseColor(\"#20D5CE\"));\r\n        BarData data = new BarData(barDataSet);\r\n        barDataSet.setValueTextSize(18);            //设置大小\r\n        barDataSet.setValueTextColor(Color.parseColor(\"#404040\"));\r\n        barDataSet.setValueFormatter((value, entry, dataSetIndex, viewPortHandler) -> {\r\n            DecimalFormat format = new DecimalFormat(\"0\");\r\n            return format.format(value) + \"%\";\r\n        });\r\n        data.setBarWidth(0.5f);\r\n    \r\n        barChart.getLegend().setEnabled(false);\r\n        \r\n        YAxis yAxis = barChart.getAxisLeft();\r\n        yAxis.setDrawAxisLine(false);                    //关闭Y轴网格线\r\n        yAxis.setAxisMinimum(0);                        //最小值\r\n        yAxis.setAxisMaximum(100);                        //最大值\r\n        \r\n        XAxis xAxis = barChart.getXAxis();\r\n        xAxis.setPosition(XAxisPosition.BOTTOM);    //X轴在底部显示\r\n        xAxis.setValueFormatter(new IndexAxisValueFormatter(stringSex));    //将每秒显示的数据放到X轴\r\n        xAxis.setLabelCount(stringSex.size());            //标签个数\r\n        xAxis.setGranularity(1f);\r\n        xAxis.setTextSize(20);\r\n        //两个数之间的间距\r\n        xAxis.setDrawGridLines(false);                    //关闭网格线\r\n        \r\n        barDataSet.setColors(Color.parseColor(\"#22D5CE\"), Color.parseColor(\"#F39444\"));\r\n    \r\n        barChart.animateXY(0, 2000);\r\n        barChart.setFitBars(true);\r\n        barChart.getAxisRight().setEnabled(false);         //关闭右边线和数据\r\n        barChart.setData(data);                            //数据集合\r\n        barChart.setTouchEnabled(false);                   //禁用触摸\r\n        barChart.getDescription().setEnabled(false);       //关闭右下角\r\n        barChart.invalidate();\r\n    }\r\n    \r\n    @Override\r\n    public void onClick(View v) {\r\n    \r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/smartcampus/fragment/statisticsFragment/Fragment_count_school.java	(revision 4c47a9317ed8c67e8e961e13dcb9fb6ddb2d395b)
+++ app/src/main/java/com/example/smartcampus/fragment/statisticsFragment/Fragment_count_school.java	(date 1624345279320)
@@ -50,7 +50,7 @@
     private BarChart barChartPileUp;
     private PieChart chart;
     private PieChart pieChart;
-    private GetCollegeMenAndWomenNumberAll getCollegeMenAndWomenNumberAll;
+    private final GetCollegeMenAndWomenNumberAll getCollegeMenAndWomenNumberAll;
     private int woman1;
     private int man1;
     
Index: app/src/main/java/com/example/smartcampus/fragment/homeFragment/StatisticsFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.smartcampus.fragment.homeFragment;\r\n\r\nimport android.graphics.Color;\r\nimport android.util.DisplayMetrics;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\nimport androidx.recyclerview.widget.GridLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\nimport butterknife.BindView;\r\nimport butterknife.ButterKnife;\r\nimport com.example.smartcampus.R;\r\nimport com.example.smartcampus.activity.FragmentActivity;\r\nimport com.example.smartcampus.adapter.homeAdapter.StatisticsRecyclerViewAdapter;\r\nimport com.example.smartcampus.bean.home.HomeFunction;\r\nimport com.example.smartcampus.fragment.statisticsFragment.Fragment_count;\r\nimport com.example.smartcampus.fragment.statisticsFragment.Fragment_count_student;\r\nimport com.example.smartcampus.fragment.statisticsFragment.Fragment_getAJob;\r\nimport com.example.smartcampus.fragment.statisticsFragment.Fragment_straightAStudent;\r\nimport com.example.smartcampus.fragment.statisticsFragment.ProvinceStudentSourceFragment;\r\nimport com.example.smartcampuslibrary.fragment.BaseFragment;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Objects;\r\n\r\npublic class StatisticsFragment extends BaseFragment {\r\n\r\n    @BindView(R.id.back)\r\n    ImageView back;\r\n    @BindView(R.id.title)\r\n    TextView title;\r\n    @BindView(R.id.statistics_recycler_view)\r\n    RecyclerView statisticsRecyclerView;\r\n\r\n    private List<HomeFunction> functionList;\r\n\r\n    @Override\r\n    protected int layoutResId() {\r\n        return R.layout.statistics_fragment;\r\n    }\r\n\r\n    @Override\r\n    protected void initView(View view) {\r\n        ButterKnife.bind(this, view);\r\n        title.setText(\"信息统计\");\r\n    }\r\n\r\n    @Override\r\n    protected void initData() {\r\n        setHomeFunction();\r\n        statisticsRecyclerView.setLayoutManager(new GridLayoutManager(getContext(),\r\n            getSpanCount(200),\r\n            GridLayoutManager.VERTICAL, false));\r\n        StatisticsRecyclerViewAdapter adapter = new StatisticsRecyclerViewAdapter(\r\n            functionList);\r\n        statisticsRecyclerView.setAdapter(adapter);\r\n        adapter.setOnItemClickListener(position -> {\r\n            switch (functionList.get(position).getName().split(\",\")[0]) {\r\n                case \"学生生源\":\r\n                    ((FragmentActivity) Objects.requireNonNull(getActivity()))\r\n                        .setFragment(new ProvinceStudentSourceFragment());\r\n                    break;\r\n                case \"性别统计\":\r\n                    ((FragmentActivity)getActivity()).setFragment(new Fragment_count());\r\n                    break;\r\n                case \"学生统计\":\r\n                    ((FragmentActivity)getActivity()).setFragment(new Fragment_count_student());\r\n                    break;\r\n                case \"消费趋势\":\r\n                    break;\r\n                case \"学霸指数\":\r\n                    ((FragmentActivity)getActivity()).setFragment(new Fragment_straightAStudent());\r\n                    break;\r\n                case \"招生信息\":\r\n                    break;\r\n                case \"学生就业\":\r\n                    ((FragmentActivity) getActivity()).setFragment(new Fragment_getAJob());\r\n                    break;\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 获取一行最多显示多少item\r\n     *\r\n     * @param itemWidth item的宽度\r\n     * @return\r\n     */\r\n    private int getSpanCount(int itemWidth) {\r\n        DisplayMetrics dm = new DisplayMetrics();\r\n        Objects.requireNonNull(Objects.requireNonNull(getContext()).getDisplay()).getMetrics(dm);\r\n        //获取屏幕宽度\r\n        int widthPixels = dm.widthPixels;\r\n        //获取设备像素密度\r\n        float density = dm.densityDpi;\r\n        //1dp*像素密度(dpi)/160(dpi) = 实际像素数(px)\r\n        int dp = (int) ((widthPixels * 160) / density);\r\n\r\n        if (itemWidth == 0) {\r\n            return 0;\r\n        }\r\n        //计算出一行显示多少item\r\n\r\n        double spanCount = ((double)dp) / ((double)itemWidth);\r\n\r\n        return (int) Math.round(spanCount);\r\n    }\r\n\r\n    private void setHomeFunction() {\r\n        functionList = new ArrayList<>();\r\n        functionList.add(new HomeFunction(\"学生生源,StudentSource\", Color.parseColor(\"#2C77C5\"),\r\n            R.mipmap.xssy));\r\n        functionList.add(new HomeFunction(\"性别统计,GenderStatistics\", Color.parseColor(\"#14A88B\"),\r\n            R.mipmap.xbtj));\r\n        functionList.add(new HomeFunction(\"学生统计,StudentStatistics\", Color.parseColor(\"#FF7D01\"),\r\n            R.mipmap.xstj));\r\n        functionList.add(new HomeFunction(\"消费趋势,ConsumptionTrend\", Color.parseColor(\"#798EFE\"),\r\n            R.mipmap.xfqs));\r\n        functionList.add(new HomeFunction(\"学霸指数,schoolDomination\", Color.parseColor(\"#F86851\"),\r\n            R.mipmap.xbzs));\r\n        functionList.add(new HomeFunction(\"招生信息,Admissions\", Color.parseColor(\"#14A88B\"), R.mipmap.zsxx));\r\n        functionList.add(new HomeFunction(\"学生就业,Employment\", Color.parseColor(\"#FF7D01\"),\r\n            R.mipmap.xsjy));\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View v) {\r\n\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/smartcampus/fragment/homeFragment/StatisticsFragment.java	(revision 4c47a9317ed8c67e8e961e13dcb9fb6ddb2d395b)
+++ app/src/main/java/com/example/smartcampus/fragment/homeFragment/StatisticsFragment.java	(date 1624345895055)
@@ -2,7 +2,6 @@
 
 import android.graphics.Color;
 import android.util.DisplayMetrics;
-import android.util.Log;
 import android.view.View;
 import android.widget.ImageView;
 import android.widget.TextView;
@@ -13,6 +12,7 @@
 import com.example.smartcampus.R;
 import com.example.smartcampus.activity.FragmentActivity;
 import com.example.smartcampus.adapter.homeAdapter.StatisticsRecyclerViewAdapter;
+import com.example.smartcampus.fragment.statisticsFragment.Fragment_Admissions;
 import com.example.smartcampus.bean.home.HomeFunction;
 import com.example.smartcampus.fragment.statisticsFragment.Fragment_count;
 import com.example.smartcampus.fragment.statisticsFragment.Fragment_count_student;
@@ -25,27 +25,27 @@
 import java.util.Objects;
 
 public class StatisticsFragment extends BaseFragment {
-
+    
     @BindView(R.id.back)
     ImageView back;
     @BindView(R.id.title)
     TextView title;
     @BindView(R.id.statistics_recycler_view)
     RecyclerView statisticsRecyclerView;
-
+    
     private List<HomeFunction> functionList;
-
+    
     @Override
     protected int layoutResId() {
         return R.layout.statistics_fragment;
     }
-
+    
     @Override
     protected void initView(View view) {
         ButterKnife.bind(this, view);
         title.setText("信息统计");
     }
-
+    
     @Override
     protected void initData() {
         setHomeFunction();
@@ -62,17 +62,18 @@
                         .setFragment(new ProvinceStudentSourceFragment());
                     break;
                 case "性别统计":
-                    ((FragmentActivity)getActivity()).setFragment(new Fragment_count());
+                    ((FragmentActivity) getActivity()).setFragment(new Fragment_count());
                     break;
                 case "学生统计":
-                    ((FragmentActivity)getActivity()).setFragment(new Fragment_count_student());
+                    ((FragmentActivity) getActivity()).setFragment(new Fragment_count_student());
                     break;
                 case "消费趋势":
                     break;
                 case "学霸指数":
-                    ((FragmentActivity)getActivity()).setFragment(new Fragment_straightAStudent());
+                    ((FragmentActivity) getActivity()).setFragment(new Fragment_straightAStudent());
                     break;
                 case "招生信息":
+                    ((FragmentActivity)getActivity()).setFragment(new Fragment_Admissions());
                     break;
                 case "学生就业":
                     ((FragmentActivity) getActivity()).setFragment(new Fragment_getAJob());
@@ -80,7 +81,7 @@
             }
         });
     }
-
+    
     /**
      * 获取一行最多显示多少item
      *
@@ -96,17 +97,17 @@
         float density = dm.densityDpi;
         //1dp*像素密度(dpi)/160(dpi) = 实际像素数(px)
         int dp = (int) ((widthPixels * 160) / density);
-
+        
         if (itemWidth == 0) {
             return 0;
         }
         //计算出一行显示多少item
-
-        double spanCount = ((double)dp) / ((double)itemWidth);
-
+        
+        double spanCount = ((double) dp) / ((double) itemWidth);
+        
         return (int) Math.round(spanCount);
     }
-
+    
     private void setHomeFunction() {
         functionList = new ArrayList<>();
         functionList.add(new HomeFunction("学生生源,StudentSource", Color.parseColor("#2C77C5"),
@@ -123,9 +124,9 @@
         functionList.add(new HomeFunction("学生就业,Employment", Color.parseColor("#FF7D01"),
             R.mipmap.xsjy));
     }
-
+    
     @Override
     public void onClick(View v) {
-
+    
     }
 }
